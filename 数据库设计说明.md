# 

# 一、coin-admin后台管理系统

## 1. **表sys_user (平台用户)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                   |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ---------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                   |
| 2    | username         | varchar  | 32   | 0      | N        | N    |                   | 账号                   |
| 3    | password         | varchar  | 256  | 0      | N        | N    |                   | 密码                   |
| 4    | fullname         | varchar  | 32   | 0      | Y        | N    |                   | 姓名                   |
| 5    | mobile           | varchar  | 16   | 0      | Y        | N    |                   | 手机号                 |
| 6    | email            | varchar  | 128  | 0      | Y        | N    |                   | 邮箱                   |
| 7    | status           | tinyint  | 4    | 0      | N        | N    | 1                 | 状态 0-无效； 1-有效； |
| 8    | create_by        | bigint   | 20   | 0      | Y        | N    |                   | 创建人                 |
| 9    | modify_by        | bigint   | 20   | 0      | Y        | N    |                   | 修改人                 |
| 10   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间               |
| 11   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间               |

## 2. **表sys_role (角色)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明              |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ----------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键              |
| 2    | name             | varchar  | 32   | 0      | N        | N    |                   | 名称              |
| 3    | code             | varchar  | 32   | 0      | N        | N    |                   | 代码              |
| 4    | description      | varchar  | 128  | 0      | Y        | N    |                   | 描述              |
| 5    | create_by        | bigint   | 20   | 0      | Y        | N    |                   | 创建人            |
| 6    | modify_by        | bigint   | 20   | 0      | Y        | N    |                   | 修改人            |
| 7    | status           | tinyint  | 4    | 0      | N        | N    | 1                 | 状态0:禁用 1:启用 |
| 8    | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间          |
| 9    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间          |

## 3. **表sys_menu (系统菜单)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                   |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ---------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                   |
| 2    | parent_id        | bigint   | 20   | 0      | Y        | N    |                   | 上级菜单ID             |
| 3    | parent_key       | varchar  | 255  | 0      | Y        | N    |                   | 上级菜单唯一KEY值      |
| 4    | type             | tinyint  | 4    | 0      | N        | N    | 2                 | 类型 1-分类 2-节点     |
| 5    | name             | varchar  | 64   | 0      | N        | N    |                   | 名称                   |
| 6    | desc             | varchar  | 256  | 0      | Y        | N    |                   | 描述                   |
| 7    | target_url       | varchar  | 128  | 0      | Y        | N    |                   | 目标地址               |
| 8    | sort             | int      | 10   | 0      | Y        | N    |                   | 排序索引               |
| 9    | status           | tinyint  | 4    | 0      | N        | N    | 1                 | 状态 0-无效； 1-有效； |
| 10   | create_by        | bigint   | 20   | 0      | Y        | N    |                   | 创建人                 |
| 11   | modify_by        | bigint   | 20   | 0      | Y        | N    |                   | 修改人                 |
| 12   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间               |
| 13   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间               |

## 4. **表sys_privilege (权限配置)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明       |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ---------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键       |
| 2    | menu_id          | bigint   | 20   | 0      | Y        | N    |                   | 所属菜单Id |
| 3    | name             | varchar  | 255  | 0      | Y        | N    |                   | 功能点名称 |
| 4    | description      | varchar  | 255  | 0      | Y        | N    |                   | 功能描述   |
| 5    | url              | varchar  | 255  | 0      | Y        | N    |                   |            |
| 6    | method           | varchar  | 255  | 0      | Y        | N    |                   |            |
| 7    | create_by        | bigint   | 20   | 0      | Y        | N    |                   | 创建人     |
| 8    | modify_by        | bigint   | 20   | 0      | Y        | N    |                   | 修改人     |
| 9    | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间   |
| 10   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间   |

## 5. **表sys_user_role (用户角色配置)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明     |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键     |
| 2    | role_id          | bigint   | 20   | 0      | Y        | N    |                   | 角色ID   |
| 3    | user_id          | bigint   | 20   | 0      | Y        | N    |                   | 用户ID   |
| 4    | create_by        | bigint   | 20   | 0      | Y        | N    |                   | 创建人   |
| 5    | modify_by        | bigint   | 20   | 0      | Y        | N    |                   | 修改人   |
| 6    | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间 |
| 7    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间 |

## 6. **表sys_role_menu (角色菜单)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明     |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   |          |
| 2    | role_id          | bigint   | 20   | 0      | Y        | N    |                   |          |
| 3    | menu_id          | bigint   | 20   | 0      | Y        | N    |                   |          |
| 4    | create_by        | bigint   | 20   | 0      | Y        | N    |                   | 创建人   |
| 5    | modify_by        | bigint   | 20   | 0      | Y        | N    |                   | 修改人   |
| 6    | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间 |
| 7    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间 |

## 7. **表sys_role_privilege (角色权限配置)**

| 编号 | 名称         | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 | 说明 |
| ---- | ------------ | -------- | ---- | ------ | -------- | ---- | ------ | ---- |
| 1    | id           | bigint   | 20   | 0      | N        | Y    |        |      |
| 2    | role_id      | bigint   | 20   | 0      | N        | N    |        |      |
| 3    | privilege_id | bigint   | 20   | 0      | N        | N    |        |      |

## 8. **表sys_role_privilege_user (用户权限配置)**

| 编号 | 名称         | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 | 说明   |
| ---- | ------------ | -------- | ---- | ------ | -------- | ---- | ------ | ------ |
| 1    | id           | bigint   | 20   | 0      | N        | Y    |        |        |
| 2    | role_id      | bigint   | 20   | 0      | N        | N    |        | 角色Id |
| 3    | user_id      | bigint   | 20   | 0      | N        | N    |        | 用户Id |
| 4    | privilege_id | bigint   | 20   | 0      | N        | N    |        | 权限Id |

## 9. **表sys_user_log (系统日志)**

| 编号 | 名称        | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                         |
| ---- | ----------- | -------- | ----- | ------ | -------- | ---- | ----------------- | -------------------------------------------- |
| 1    | id          | bigint   | 20    | 0      | N        | Y    |                   | 主键                                         |
| 2    | group       | varchar  | 255   | 0      | Y        | N    |                   | 组                                           |
| 3    | user_id     | bigint   | 20    | 0      | Y        | N    |                   | 用户Id                                       |
| 4    | type        | smallint | 6     | 0      | Y        | N    |                   | 日志类型 1查询 2修改 3新增 4删除 5导出 6审核 |
| 5    | method      | varchar  | 255   | 0      | Y        | N    |                   | 方法                                         |
| 6    | params      | text     | 65535 | 0      | Y        | N    |                   | 参数                                         |
| 7    | time        | bigint   | 20    | 0      | Y        | N    |                   | 时间                                         |
| 8    | ip          | varchar  | 64    | 0      | Y        | N    |                   | IP地址                                       |
| 9    | description | varchar  | 255   | 0      | Y        | N    |                   | 描述                                         |
| 10   | remark      | varchar  | 255   | 0      | Y        | N    |                   | 备注                                         |
| 11   | created     | datetime | 19    | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                                     |

## 10. **表web_config (网站配置信息)**

| 编号 | 名称    | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明                          |
| ---- | ------- | -------- | ----- | ------ | -------- | ---- | ----------------- | ----------------------------- |
| 1    | id      | bigint   | 20    | 0      | N        | Y    |                   | Id                            |
| 2    | type    | varchar  | 50    | 0      | N        | N    |                   | 分组, LINK_BANNER ,WEB_BANNER |
| 3    | name    | varchar  | 100   | 0      | Y        | N    |                   | 名称                          |
| 4    | value   | text     | 65535 | 0      | N        | N    |                   | 值                            |
| 5    | sort    | smallint | 6     | 0      | Y        | N    | 1                 | 权重                          |
| 6    | created | datetime | 19    | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                      |
| 7    | url     | text     | 65535 | 0      | Y        | N    |                   | 超链接地址                    |
| 8    | status  | bit      | 1     | 0      | N        | N    | 1                 | 是否使用 0 否 1是             |

## 11. **表work_issue (工单记录)**

| 编号 | 名称             | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明                       |
| ---- | ---------------- | -------- | ----- | ------ | -------- | ---- | ----------------- | -------------------------- |
| 1    | id               | bigint   | 20    | 0      | N        | Y    |                   | 主键                       |
| 2    | user_id          | bigint   | 20    | 0      | Y        | N    |                   | 用户id(提问用户id)         |
| 3    | answer_user_id   | bigint   | 20    | 0      | Y        | N    |                   | 回复人id                   |
| 4    | answer_name      | varchar  | 50    | 0      | Y        | N    |                   | 回复人名称                 |
| 5    | question         | text     | 65535 | 0      | Y        | N    |                   | 工单内容                   |
| 6    | answer           | text     | 65535 | 0      | Y        | N    |                   | 回答内容                   |
| 7    | status           | bit      | 1     | 0      | Y        | N    |                   | 状态：1-待回答；2-已回答； |
| 8    | last_update_time | datetime | 19    | 0      | Y        | N    | CURRENT_TIMESTAMP | 修改时间                   |
| 9    | created          | datetime | 19    | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                   |

 

## 12. **表notice (系统资讯公告信息)**

| 编号 | 名称             | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明                 |
| ---- | ---------------- | -------- | ----- | ------ | -------- | ---- | ----------------- | -------------------- |
| 1    | id               | bigint   | 20    | 0      | N        | Y    |                   |                      |
| 2    | title            | varchar  | 100   | 0      | N        | N    |                   | 标题                 |
| 3    | description      | varchar  | 200   | 0      | Y        | N    |                   | 简介                 |
| 4    | author           | varchar  | 50    | 0      | Y        | N    |                   | 作者                 |
| 5    | status           | int      | 10    | 0      | Y        | N    |                   | 文章状态             |
| 6    | sort             | int      | 10    | 0      | N        | N    |                   | 文章排序，越大越靠前 |
| 7    | content          | text     | 65535 | 0      | Y        | N    |                   | 内容                 |
| 8    | last_update_time | datetime | 19    | 0      | N        | N    | CURRENT_TIMESTAMP | 最后修改时间         |
| 9    | created          | datetime | 19    | 0      | N        | N    | CURRENT_TIMESTAMP | 创建日期             |

## 13. **表config (平台配置信息)**

| 编号 | 名称    | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明         |
| ---- | ------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------ |
| 1    | id      | bigint   | 20   | 0      | N        | Y    |                   | 主键         |
| 2    | type    | varchar  | 64   | 0      | Y        | N    |                   | 配置规则类型 |
| 3    | code    | varchar  | 50   | 0      | N        | N    |                   | 配置规则代码 |
| 4    | name    | varchar  | 100  | 0      | N        | N    |                   | 配置规则名称 |
| 5    | desc    | varchar  | 255  | 0      | Y        | N    |                   | 配置规则描述 |
| 6    | value   | varchar  | 255  | 0      | N        | N    |                   | 配置值       |
| 7    | created | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间     |

# 二、coin-member(会员系统)

## 14. **表user (用户表)**

| 编号 | 名称              | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                         |
| ---- | ----------------- | -------- | ----- | ------ | -------- | ---- | ----------------- | ------------------------------------------------------------ |
| 1    | id                | bigint   | 20    | 0      | N        | Y    |                   | 自增id                                                       |
| 2    | type              | tinyint  | 4     | 0      | Y        | N    | 1                 | 用户类型：1-普通用户；2-代理人                               |
| 3    | username          | varchar  | 255   | 0      | Y        | N    |                   | 用户名                                                       |
| 4    | country_code      | varchar  | 255   | 0      | Y        | N    |                   | 国际电话区号                                                 |
| 5    | mobile            | varchar  | 255   | 0      | Y        | N    |                   | 手机号                                                       |
| 6    | password          | varchar  | 255   | 0      | N        | N    |                   | 密码                                                         |
| 7    | paypassword       | varchar  | 255   | 0      | Y        | N    |                   | 交易密码                                                     |
| 8    | paypass_setting   | bit      | 1     | 0      | Y        | N    | 0                 | 交易密码设置状态                                             |
| 9    | email             | varchar  | 255   | 0      | Y        | N    |                   | 邮箱                                                         |
| 10   | real_name         | varchar  | 255   | 0      | Y        | N    |                   | 真实姓名                                                     |
| 11   | id_card_type      | bit      | 1     | 0      | Y        | N    |                   | 证件类型:1，身份证；2，军官证；3，护照；4，台湾居民通行证；5，港澳居民通行证；9，其他； |
| 12   | auth_status       | tinyint  | 4     | 0      | Y        | N    | 0                 | 认证状态：0-未认证；1-初级实名认证；2-高级实名认证           |
| 13   | ga_secret         | varchar  | 32    | 0      | Y        | N    |                   | Google令牌秘钥                                               |
| 14   | ga_status         | bit      | 1     | 0      | Y        | N    | 0                 | Google认证开启状态,0,未启用，1启用                           |
| 15   | id_card           | varchar  | 255   | 0      | Y        | N    |                   | 身份证号                                                     |
| 16   | level             | int      | 10    | 0      | Y        | N    |                   | 代理商级别                                                   |
| 17   | authtime          | datetime | 19    | 0      | Y        | N    |                   | 认证时间                                                     |
| 18   | logins            | int      | 10    | 0      | Y        | N    | 0                 | 登录数                                                       |
| 19   | status            | tinyint  | 4     | 0      | N        | N    | 0                 | 状态：0，禁用；1，启用；                                     |
| 20   | invite_code       | varchar  | 200   | 0      | N        | N    |                   | 邀请码                                                       |
| 21   | invite_relation   | text     | 65535 | 0      | Y        | N    |                   | 邀请关系                                                     |
| 22   | direct_inviteid   | varchar  | 20    | 0      | Y        | N    |                   | 直接邀请人ID                                                 |
| 23   | is_deductible     | int      | 10    | 0      | Y        | N    | 0                 | 0 否 1是  是否开启平台币抵扣手续费                           |
| 24   | reviews_status    | int      | 10    | 0      | Y        | N    | 0                 | 审核状态,1通过,2拒绝,0,待审核                                |
| 25   | agent_note        | text     | 65535 | 0      | Y        | N    |                   | 代理商拒绝原因                                               |
| 26   | access_key_id     | varchar  | 16    | 0      | Y        | N    |                   | API的KEY                                                     |
| 27   | access_key_secret | varchar  | 32    | 0      | Y        | N    |                   | API的密钥                                                    |
| 28   | refe_auth_id      | bigint   | 20    | 0      | Y        | N    |                   | 引用认证状态id                                               |
| 29   | last_update_time  | datetime | 19    | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间                                                     |
| 30   | created           | datetime | 19    | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                                                     |

## 15. **表sms (短信信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                        |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ----------------------------------------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键id                                                      |
| 2    | template_code    | varchar  | 25   | 0      | Y        | N    |                   | 短信模板ID                                                  |
| 3    | country_code     | varchar  | 255  | 0      | Y        | N    |                   | 国际区号                                                    |
| 4    | mobile           | varchar  | 100  | 0      | Y        | N    |                   | 短信接收手机号                                              |
| 5    | content          | varchar  | 255  | 0      | Y        | N    |                   | 短信内容                                                    |
| 6    | status           | int      | 10   | 0      | Y        | N    |                   | 短信状态：0，默认值；大于0，成功发送短信数量；小于0，异常； |
| 7    | remark           | varchar  | 255  | 0      | Y        | N    |                   | 备注                                                        |
| 8    | last_update_time | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 发送时间                                                    |
| 9    | created          | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                                                    |

## 16. **表user_login_log (用户登录日志)**

| 编号 | 名称          | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                         |
| ---- | ------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------------------------------------------ |
| 1    | id            | bigint   | 20   | 0      | N        | Y    |                   | 主键                                                         |
| 2    | user_id       | bigint   | 20   | 0      | Y        | N    |                   | 用户ID                                                       |
| 3    | client_type   | tinyint  | 4    | 0      | Y        | N    |                   | 客户端类型             1-PC             2-IOS             3-Android |
| 4    | login_ip      | varchar  | 16   | 0      | Y        | N    |                   | 登录IP                                                       |
| 5    | login_address | varchar  | 32   | 0      | Y        | N    |                   | 登录地址                                                     |
| 6    | login_time    | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 登录时间                                                     |

## 17. **表user_address (用户钱包地址信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明     |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   |          |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户ID   |
| 3    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种ID   |
| 4    | address          | varchar  | 100  | 0      | N        | N    |                   | 地址     |
| 5    | keystore         | varchar  | 1024 | 0      | Y        | N    |                   | keystore |
| 6    | pwd              | varchar  | 200  | 0      | Y        | N    |                   | 密码     |
| 7    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间 |
| 8    | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间 |
| 9    | markid           | bigint   | 20   | 0      | Y        | N    |                   |          |

## 18. **表user_address_error (用户钱包地址信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明     |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   |          |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户ID   |
| 3    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种ID   |
| 4    | address          | varchar  | 100  | 0      | N        | N    |                   | 地址     |
| 5    | keystore         | varchar  | 1024 | 0      | Y        | N    |                   | keystore |
| 6    | pwd              | varchar  | 200  | 0      | Y        | N    |                   | 密码     |
| 7    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间 |
| 8    | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间 |

## 19. **表user_auth_audit_record (实名认证审核信息)**

| 编号 | 名称            | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                     |
| ---- | --------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------ |
| 1    | id              | bigint   | 20   | 0      | N        | Y    |                   | 主键                     |
| 2    | auth_code       | bigint   | 20   | 0      | Y        | N    |                   | 对应user_auth_info表code |
| 3    | user_id         | bigint   | 20   | 0      | Y        | N    |                   | 用户ID                   |
| 4    | status          | tinyint  | 4    | 0      | Y        | N    |                   | 状态1同意2拒絕           |
| 5    | remark          | varchar  | 1000 | 0      | Y        | N    |                   | 备注                     |
| 6    | step            | tinyint  | 4    | 0      | Y        | N    |                   | 当前审核级数             |
| 7    | audit_user_id   | bigint   | 20   | 0      | Y        | N    |                   | 审核人ID                 |
| 8    | audit_user_name | varchar  | 128  | 0      | Y        | N    |                   | 审核人                   |
| 9    | created         | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                 |

## 20. **表user_auth_info (实名认证信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                     |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------------------------------------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                                                     |
| 2    | user_id          | bigint   | 20   | 0      | Y        | N    |                   | 用户ID                                                   |
| 3    | image_url        | varchar  | 256  | 0      | Y        | N    |                   | 图片地址                                                 |
| 4    | serialno         | int      | 10   | 0      | Y        | N    |                   | 序号：1-身份证正面照；2-身份证反面照；3-手持身份证照片； |
| 5    | last_update_time | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 更新时间                                                 |
| 6    | created          | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                                                 |
| 7    | auth_code        | bigint   | 20   | 0      | Y        | N    |                   | 用户每组审核记录唯一标识                                 |

## 21. **表user_bank (用户人民币提现地址)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                     |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------ |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 自增id                   |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户id                   |
| 3    | remark           | varchar  | 255  | 0      | N        | N    |                   | 银行卡名称               |
| 4    | real_name        | varchar  | 255  | 0      | N        | N    |                   | 开户人                   |
| 5    | bank             | varchar  | 255  | 0      | N        | N    |                   | 开户行                   |
| 6    | bank_prov        | varchar  | 255  | 0      | Y        | N    |                   | 开户省                   |
| 7    | bank_city        | varchar  | 255  | 0      | Y        | N    |                   | 开户市                   |
| 8    | bank_addr        | varchar  | 255  | 0      | Y        | N    |                   | 开户地址                 |
| 9    | bank_card        | varchar  | 255  | 0      | N        | N    |                   | 开户账号                 |
| 10   | status           | tinyint  | 4    | 0      | N        | N    |                   | 状态：0，禁用；1，启用； |
| 11   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间                 |
| 12   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                 |

## 22. **表user_wallet (用户提币地址)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明         |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------ |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   |              |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户ID       |
| 3    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种ID       |
| 4    | coin_name        | varchar  | 200  | 0      | N        | N    |                   | 币种名称     |
| 5    | name             | varchar  | 200  | 0      | N        | N    |                   | 提币地址名称 |
| 6    | addr             | varchar  | 200  | 0      | N        | N    |                   | 地址         |
| 7    | sort             | int      | 10   | 0      | N        | N    | 0                 | 排序         |
| 8    | status           | tinyint  | 4    | 0      | N        | N    | 0                 | 状态         |
| 9    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间     |
| 10   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间     |

## 23. **表wallet_collect_task (当钱包需要归集的时候,会吧数据插入到该表,现在一般是用在eth和eth这类型需要归集的币种)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明         |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------ |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   |              |
| 2    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种ID       |
| 3    | coin_type        | varchar  | 11   | 0      | N        | N    |                   | 币种类型     |
| 4    | coin_name        | varchar  | 20   | 0      | Y        | N    |                   | 币种名称     |
| 5    | user_id          | bigint   | 20   | 0      | Y        | N    |                   | 来自哪个用户 |
| 6    | txid             | varchar  | 100  | 0      | Y        | N    |                   | txid         |
| 7    | amount           | decimal  | 21   | 8      | Y        | N    |                   | 归集数量     |
| 8    | chain_fee        | decimal  | 21   | 8      | Y        | N    |                   | 链上手续费   |
| 9    | mark             | varchar  | 200  | 0      | Y        | N    |                   | 备注         |
| 10   | status           | int      | 10   | 0      | N        | N    | 0                 | 是否处理     |
| 11   | from_address     | varchar  | 100  | 0      | Y        | N    |                   | 来自哪个地址 |
| 12   | to_address       | varchar  | 80   | 0      | Y        | N    |                   | 转到哪里     |
| 13   | last_update_time | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP |              |
| 14   | created          | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP |              |

## 24. **表mine_pool (矿池)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明     |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键     |
| 2    | name             | varchar  | 256  | 0      | Y        | N    |                   | 名称     |
| 3    | description      | varchar  | 256  | 0      | Y        | N    |                   | 描述     |
| 4    | create_user      | bigint   | 20   | 0      | Y        | N    |                   | 创建者   |
| 5    | status           | tinyint  | 4    | 0      | Y        | N    | 0                 | 状态     |
| 6    | remark           | varchar  | 256  | 0      | Y        | N    |                   | 备注     |
| 7    | created          | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间 |
| 8    | last_update_time | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 修改时间 |

## 25. **表mine_pool_member (矿池成员)**

| 编号 | 名称         | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 | 说明     |
| ---- | ------------ | -------- | ---- | ------ | -------- | ---- | ------ | -------- |
| 1    | id           | bigint   | 20   | 0      | N        | Y    |        | 主键     |
| 2    | mine_pool_id | bigint   | 20   | 0      | Y        | N    |        | 矿池ID   |
| 3    | user_id      | bigint   | 20   | 0      | Y        | N    |        | 用户ID   |
| 4    | created      | datetime | 19   | 0      | Y        | N    |        | 创建时间 |

# 三、coin-finance（财务）

## 26. **表coin (币种配置信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                         |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------------------------------------------ |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 币种ID                                                       |
| 2    | name             | varchar  | 100  | 0      | N        | N    |                   | 币种名称                                                     |
| 3    | title            | varchar  | 100  | 0      | N        | N    |                   | 币种标题                                                     |
| 4    | img              | varchar  | 255  | 0      | N        | N    |                   | 币种logo                                                     |
| 5    | type             | varchar  | 50   | 0      | N        | N    |                   | xnb：人民币 default：比特币系列 ETH：以太坊 ethToken：以太坊代币 |
| 6    | wallet           | varchar  | 50   | 0      | N        | N    |                   | rgb：认购币 qbb：钱包币                                      |
| 7    | round            | tinyint  | 4    | 0      | N        | N    |                   | 小数位数                                                     |
| 8    | base_amount      | decimal  | 21   | 8      | Y        | N    |                   | 最小提现单位                                                 |
| 9    | min_amount       | decimal  | 21   | 8      | Y        | N    |                   | 单笔最小提现数量                                             |
| 10   | max_amount       | decimal  | 21   | 8      | Y        | N    |                   | 单笔最大提现数量                                             |
| 11   | day_max_amount   | decimal  | 21   | 8      | Y        | N    |                   | 当日最大提现数量                                             |
| 12   | status           | bit      | 1    | 0      | N        | N    | 1                 | status=1：启用 0：禁用                                       |
| 13   | auto_out         | double   | 23   | 0      | Y        | N    | 10                | 自动转出数量                                                 |
| 14   | rate             | double   | 23   | 0      | Y        | N    | 0                 | 手续费率                                                     |
| 15   | min_fee_num      | decimal  | 21   | 8      | Y        | N    |                   | 最低收取手续费个数                                           |
| 16   | withdraw_flag    | tinyint  | 4    | 0      | Y        | N    | 1                 | 提现开关                                                     |
| 17   | recharge_flag    | tinyint  | 4    | 0      | Y        | N    | 1                 | 充值开关                                                     |
| 18   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间                                                     |
| 19   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                                                     |

## 27. **表coin_balance (币种余额)**

| 编号 | 名称                     | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                              |
| ---- | ------------------------ | -------- | ---- | ------ | -------- | ---- | ----------------- | --------------------------------- |
| 1    | id                       | bigint   | 20   | 0      | N        | Y    |                   | 主键                              |
| 2    | coin_id                  | bigint   | 20   | 0      | Y        | N    |                   | 币种ID                            |
| 3    | coin_name                | varchar  | 16   | 0      | Y        | N    |                   | 币种名称                          |
| 4    | system_balance           | decimal  | 21   | 8      | Y        | N    |                   | 系统余额（根据充值提币计算）      |
| 5    | coin_type                | varchar  | 50   | 0      | Y        | N    |                   | 币种类型                          |
| 6    | collect_account_balance  | decimal  | 21   | 8      | Y        | N    |                   | 归集账户余额                      |
| 7    | loan_account_balance     | decimal  | 21   | 8      | Y        | N    |                   | 钱包账户余额                      |
| 8    | fee_account_balance      | decimal  | 21   | 8      | Y        | N    |                   | 手续费账户余额(eth转账需要手续费) |
| 9    | last_update_time         | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 更新时间                          |
| 10   | created                  | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                          |
| 11   | recharge_account_balance | decimal  | 21   | 8      | Y        | N    |                   |                                   |

## 28. **表coin_config (币种配置信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 | 说明                                                         |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ------ | ------------------------------------------------------------ |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |        | 币种ID(对应coin表ID)                                         |
| 2    | name             | varchar  | 100  | 0      | N        | N    |        | 币种名称                                                     |
| 3    | coin_type        | varchar  | 50   | 0      | N        | N    |        | btc-比特币系列；eth-以太坊；ethToken-以太坊代币；etc-以太经典；\r\n\r\n |
| 4    | credit_limit     | decimal  | 21   | 8      | Y        | N    |        | 钱包最低留存的币                                             |
| 5    | credit_max_limit | decimal  | 21   | 8      | Y        | N    |        | 当触发改状态的时候,开始归集                                  |
| 6    | rpc_ip           | varchar  | 20   | 0      | Y        | N    |        | rpc服务ip                                                    |
| 7    | rpc_port         | varchar  | 10   | 0      | Y        | N    |        | rpc服务port                                                  |
| 8    | rpc_user         | varchar  | 30   | 0      | Y        | N    |        | rpc用户                                                      |
| 9    | rpc_pwd          | varchar  | 200  | 0      | Y        | N    |        | rpc密码                                                      |
| 10   | last_block       | varchar  | 100  | 0      | Y        | N    |        | 最后一个区块                                                 |
| 11   | wallet_user      | varchar  | 50   | 0      | Y        | N    |        | 钱包用户名                                                   |
| 12   | wallet_pass      | varchar  | 50   | 0      | Y        | N    |        | 钱包密码                                                     |
| 13   | contract_address | varchar  | 100  | 0      | Y        | N    |        | 代币合约地址                                                 |
| 14   | context          | varchar  | 50   | 0      | Y        | N    |        | context                                                      |
| 15   | min_confirm      | int      | 10   | 0      | Y        | N    | 1      | 最低确认数                                                   |
| 16   | task             | varchar  | 50   | 0      | Y        | N    |        | 定时任务                                                     |
| 17   | status           | int      | 10   | 0      | N        | N    | 0      | 是否可用0不可用,1可用                                        |
| 18   | auto_draw_limit  | decimal  | 21   | 8      | Y        | N    |        |                                                              |
| 19   | auto_draw        | int      | 10   | 0      | Y        | N    |        |                                                              |

## 29. **表coin_recharge (数字货币充值记录)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                               |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------------------------------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 自增id                                             |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户id                                             |
| 3    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种id                                             |
| 4    | coin_name        | varchar  | 255  | 0      | N        | N    |                   | 币种名称                                           |
| 5    | coin_type        | varchar  | 50   | 0      | N        | N    |                   | 币种类型                                           |
| 6    | address          | varchar  | 255  | 0      | Y        | N    |                   | 钱包地址                                           |
| 7    | confirm          | int      | 10   | 0      | N        | N    |                   | 充值确认数                                         |
| 8    | status           | int      | 10   | 0      | Y        | N    | 0                 | 状态：0-待入帐；1-充值失败，2到账失败，3到账成功； |
| 9    | txid             | varchar  | 80   | 0      | Y        | N    |                   | 交易id                                             |
| 10   | amount           | decimal  | 21   | 8      | Y        | N    |                   |                                                    |
| 11   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间                                           |
| 12   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                                           |

## 30. **表coin_server (监测当前服务器Ip状态)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                       |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 自增id                     |
| 2    | rpc_ip           | varchar  | 50   | 0      | N        | N    |                   | 钱包服务器ip               |
| 3    | rpc_port         | varchar  | 50   | 0      | N        | N    |                   | 钱包服务器ip               |
| 4    | running          | int      | 10   | 0      | N        | N    |                   | 服务是否运行 0:正常,1:停止 |
| 5    | wallet_number    | bigint   | 20   | 0      | N        | N    |                   | 钱包服务器区块高度         |
| 6    | coin_name        | varchar  | 50   | 0      | Y        | N    |                   |                            |
| 7    | mark             | varchar  | 100  | 0      | Y        | N    |                   | 备注信息                   |
| 8    | real_number      | bigint   | 20   | 0      | Y        | N    |                   | 真实区块高度               |
| 9    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间                   |
| 10   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                   |

## 31. **表coin_type (币种类型)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                   |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ---------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                   |
| 2    | code             | varchar  | 16   | 0      | N        | N    |                   | 代码                   |
| 3    | description      | varchar  | 32   | 0      | N        | N    |                   | 描述                   |
| 4    | status           | tinyint  | 4    | 0      | N        | N    |                   | 状态：0-无效；1-有效； |
| 5    | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间               |
| 6    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间               |

## 32. **表coin_withdraw (数字货币提现记录)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                         |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------------------------------------------ |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 自增id                                                       |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户id                                                       |
| 3    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种id                                                       |
| 4    | coin_name        | varchar  | 255  | 0      | N        | N    |                   | 币种名称                                                     |
| 5    | coin_type        | varchar  | 50   | 0      | N        | N    |                   | 币种类型                                                     |
| 6    | address          | varchar  | 255  | 0      | N        | N    |                   | 钱包地址                                                     |
| 7    | txid             | varchar  | 80   | 0      | Y        | N    |                   | 交易id                                                       |
| 8    | num              | decimal  | 21   | 8      | N        | N    |                   | 提现量                                                       |
| 9    | fee              | decimal  | 21   | 8      | N        | N    |                   | 手续费()                                                     |
| 10   | mum              | decimal  | 21   | 8      | N        | N    |                   | 实际提现                                                     |
| 11   | type             | bit      | 1    | 0      | Y        | N    | 0                 | 0站内1其他2手工提币                                          |
| 12   | chain_fee        | decimal  | 21   | 8      | Y        | N    |                   | 链上手续费花费                                               |
| 13   | block_num        | int      | 10   | 0      | Y        | N    | 0                 | 区块高度                                                     |
| 14   | remark           | varchar  | 255  | 0      | Y        | N    |                   | 后台审核人员提币备注备注                                     |
| 15   | wallet_mark      | varchar  | 255  | 0      | Y        | N    |                   | 钱包提币备注备注                                             |
| 16   | step             | tinyint  | 4    | 0      | Y        | N    |                   | 当前审核级数                                                 |
| 17   | status           | bit      | 1    | 0      | N        | N    |                   | 状态：0-审核中；1-成功；2-拒绝；3-撤销；4-审核通过；5-打币中； |
| 18   | audit_time       | datetime | 19   | 0      | Y        | N    |                   | 审核时间                                                     |
| 19   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间                                                     |
| 20   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                                                     |

## 33. **表coin_withdraw_audit_record (提币审核记录)**

| 编号 | 名称            | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明         |
| ---- | --------------- | -------- | ----- | ------ | -------- | ---- | ----------------- | ------------ |
| 1    | id              | bigint   | 20    | 0      | N        | Y    |                   | 主键         |
| 2    | order_id        | bigint   | 20    | 0      | Y        | N    |                   | 提币订单号   |
| 3    | status          | tinyint  | 4     | 0      | Y        | N    |                   | 状态         |
| 4    | remark          | text     | 65535 | 0      | Y        | N    |                   | 审核备注     |
| 5    | step            | tinyint  | 4     | 0      | Y        | N    |                   | 当前审核级数 |
| 6    | audit_user_id   | bigint   | 20    | 0      | Y        | N    |                   | 审核人ID     |
| 7    | audit_user_name | varchar  | 128   | 0      | Y        | N    |                   | 审核人       |
| 8    | created         | datetime | 19    | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间     |

## 34. **表account (用户财产记录)**

| 编号 | 名称               | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                         |
| ---- | ------------------ | -------- | ---- | ------ | -------- | ---- | ----------------- | ---------------------------- |
| 1    | id                 | bigint   | 20   | 0      | N        | Y    |                   | 自增id                       |
| 2    | user_id            | bigint   | 20   | 0      | N        | N    |                   | 用户id                       |
| 3    | coin_id            | bigint   | 20   | 0      | N        | N    |                   | 币种id                       |
| 4    | status             | bit      | 1    | 0      | N        | N    |                   | 账号状态：1，正常；2，冻结； |
| 5    | balance_amount     | decimal  | 41   | 20     | N        | N    |                   | 币种可用金额                 |
| 6    | freeze_amount      | decimal  | 41   | 20     | N        | N    |                   | 币种冻结金额                 |
| 7    | recharge_amount    | decimal  | 41   | 20     | N        | N    |                   | 累计充值金额                 |
| 8    | withdrawals_amount | decimal  | 41   | 20     | N        | N    |                   | 累计提现金额                 |
| 9    | net_value          | decimal  | 41   | 20     | N        | N    |                   | 净值                         |
| 10   | lock_margin        | decimal  | 41   | 20     | N        | N    |                   | 占用保证金                   |
| 11   | float_profit       | decimal  | 41   | 20     | N        | N    |                   | 持仓盈亏/浮动盈亏            |
| 12   | total_profit       | decimal  | 41   | 20     | N        | N    |                   | 总盈亏                       |
| 13   | rec_addr           | varchar  | 100  | 0      | Y        | N    |                   | 充值地址                     |
| 14   | version            | bigint   | 20   | 0      | N        | N    |                   | 版本号                       |
| 15   | last_update_time   | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间                     |
| 16   | created            | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                     |

## 35. **表account_detail (资金账户流水)**

| 编号 | 名称           | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                         |
| ---- | -------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------------------------------------------ |
| 1    | id             | bigint   | 20   | 0      | N        | Y    |                   |                                                              |
| 2    | user_id        | bigint   | 20   | 0      | N        | N    |                   | 用户id                                                       |
| 3    | coin_id        | bigint   | 20   | 0      | N        | N    |                   | 币种id                                                       |
| 4    | account_id     | bigint   | 20   | 0      | N        | N    |                   | 账户id                                                       |
| 5    | ref_account_id | bigint   | 20   | 0      | N        | N    |                   | 该笔流水资金关联方的账户id                                   |
| 6    | order_id       | bigint   | 20   | 0      | N        | N    | 0                 | 订单ID                                                       |
| 7    | direction      | bit      | 1    | 0      | N        | N    |                   | 入账为1，出账为2                                             |
| 8    | business_type  | varchar  | 100  | 0      | N        | N    |                   | 业务类型: 充值(recharge_into)  提现审核通过(withdrawals_out)  下单(order_create)  成交(order_turnover) 成交手续费(order_turnover_poundage)   撤单(order_cancel)   注册奖励(bonus_register) 提币冻结解冻(withdrawals) 充人民币(recharge) 提币手续费(withdrawals_poundage)    兑换(cny_btcx_exchange) 奖励充值(bonus_into) 奖励冻结(bonus_freeze) |
| 9    | amount         | decimal  | 41   | 20     | N        | N    |                   | 资产数量                                                     |
| 10   | fee            | decimal  | 41   | 20     | Y        | N    |                   | 手续费                                                       |
| 11   | remark         | varchar  | 255  | 0      | N        | N    |                   | 流水状态： 充值 提现 冻结 解冻 转出 转入                     |
| 12   | created        | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 日期                                                         |

## 36. **表cash_recharge (充值表)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | --------------------------------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 自增id                                              |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户id                                              |
| 3    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种id                                              |
| 4    | coin_name        | varchar  | 255  | 0      | N        | N    |                   | 币种名：cny，人民币；                               |
| 5    | num              | decimal  | 20   | 2      | N        | N    |                   | 数量（充值金额）                                    |
| 6    | fee              | decimal  | 20   | 2      | N        | N    |                   | 手续费                                              |
| 7    | feecoin          | varchar  | 255  | 0      | Y        | N    |                   | 手续费币种                                          |
| 8    | mum              | decimal  | 20   | 2      | N        | N    |                   | 成交量（到账金额）                                  |
| 9    | type             | varchar  | 255  | 0      | N        | N    |                   | 类型：alipay，支付宝；cai1pay，财易付；bank，银联； |
| 10   | tradeno          | varchar  | 255  | 0      | N        | N    |                   | 充值订单号                                          |
| 11   | outtradeno       | varchar  | 255  | 0      | Y        | N    |                   | 第三方订单号                                        |
| 12   | remark           | varchar  | 8    | 0      | Y        | N    |                   | 充值备注备注                                        |
| 13   | audit_remark     | varchar  | 128  | 0      | Y        | N    |                   | 审核备注                                            |
| 14   | step             | tinyint  | 4    | 0      | Y        | N    |                   | 当前审核级数                                        |
| 15   | status           | tinyint  | 4    | 0      | N        | N    |                   | 状态：0-待审核；1-审核通过；2-拒绝；3-充值成功；    |
| 16   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                                            |
| 17   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间                                            |
| 18   | name             | varchar  | 100  | 0      | Y        | N    |                   | 银行卡账户名                                        |
| 19   | bank_name        | varchar  | 100  | 0      | Y        | N    |                   | 开户行                                              |
| 20   | bank_card        | varchar  | 100  | 0      | Y        | N    |                   | 银行卡号                                            |
| 21   | last_time        | datetime | 19   | 0      | Y        | N    |                   | 最后确认到账时间。                                  |

## 37. **表cash_withdrawals (提现表)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                             |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------------------------------ |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                                             |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户ID                                           |
| 3    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种ID                                           |
| 4    | account_id       | bigint   | 20   | 0      | N        | N    |                   | 资金账户ID                                       |
| 5    | num              | decimal  | 21   | 2      | N        | N    |                   | 数量（提现金额）                                 |
| 6    | fee              | decimal  | 21   | 2      | N        | N    |                   | 手续费                                           |
| 7    | mum              | decimal  | 21   | 2      | N        | N    |                   | 到账金额                                         |
| 8    | truename         | varchar  | 255  | 0      | N        | N    |                   | 开户人                                           |
| 9    | bank             | varchar  | 255  | 0      | N        | N    |                   | 银行名称                                         |
| 10   | bank_prov        | varchar  | 255  | 0      | Y        | N    |                   | 银行所在省                                       |
| 11   | bank_city        | varchar  | 255  | 0      | Y        | N    |                   | 银行所在市                                       |
| 12   | bank_addr        | varchar  | 255  | 0      | Y        | N    |                   | 开户行                                           |
| 13   | bank_card        | varchar  | 255  | 0      | N        | N    |                   | 银行账号                                         |
| 14   | remark           | varchar  | 255  | 0      | Y        | N    |                   | 备注                                             |
| 15   | step             | tinyint  | 4    | 0      | Y        | N    |                   | 当前审核级数                                     |
| 16   | status           | tinyint  | 4    | 0      | N        | N    |                   | 状态：0-待审核；1-审核通过；2-拒绝；3-提现成功； |
| 17   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                                         |
| 18   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间                                         |
| 19   | last_time        | datetime | 19   | 0      | Y        | N    |                   | 最后确认提现到账时间                             |

## 38. **表cash_recharge_audit_record (充值审核记录)**

| 编号 | 名称            | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明         |
| ---- | --------------- | -------- | ----- | ------ | -------- | ---- | ----------------- | ------------ |
| 1    | id              | bigint   | 20    | 0      | N        | Y    |                   | 主键         |
| 2    | order_id        | bigint   | 20    | 0      | Y        | N    |                   | 充值订单号   |
| 3    | status          | tinyint  | 4     | 0      | Y        | N    |                   | 状态         |
| 4    | remark          | text     | 65535 | 0      | Y        | N    |                   | 审核备注     |
| 5    | step            | tinyint  | 4     | 0      | Y        | N    |                   | 当前审核级数 |
| 6    | audit_user_id   | bigint   | 20    | 0      | Y        | N    |                   | 审核人ID     |
| 7    | audit_user_name | varchar  | 128   | 0      | Y        | N    |                   | 审核人       |
| 8    | created         | datetime | 19    | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间     |

## 39. **表cash_withdraw_audit_record (提现审核记录)**

| 编号 | 名称            | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明         |
| ---- | --------------- | -------- | ----- | ------ | -------- | ---- | ----------------- | ------------ |
| 1    | id              | bigint   | 20    | 0      | N        | Y    |                   | 主键         |
| 2    | order_id        | bigint   | 20    | 0      | Y        | N    |                   | 提币订单号   |
| 3    | status          | tinyint  | 4     | 0      | Y        | N    |                   | 状态         |
| 4    | remark          | text     | 65535 | 0      | Y        | N    |                   | 审核备注     |
| 5    | step            | tinyint  | 4     | 0      | Y        | N    |                   | 当前审核级数 |
| 6    | audit_user_id   | bigint   | 20    | 0      | Y        | N    |                   | 审核人ID     |
| 7    | audit_user_name | varchar  | 128   | 0      | Y        | N    |                   | 审核人       |
| 8    | created         | datetime | 19    | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间     |

## 40. **表coin_withdraw (数字货币提现记录)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                         |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------------------------------------------ |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 自增id                                                       |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户id                                                       |
| 3    | coin_id          | bigint   | 20   | 0      | N        | N    |                   | 币种id                                                       |
| 4    | coin_name        | varchar  | 255  | 0      | N        | N    |                   | 币种名称                                                     |
| 5    | coin_type        | varchar  | 50   | 0      | N        | N    |                   | 币种类型                                                     |
| 6    | address          | varchar  | 255  | 0      | N        | N    |                   | 钱包地址                                                     |
| 7    | txid             | varchar  | 80   | 0      | Y        | N    |                   | 交易id                                                       |
| 8    | num              | decimal  | 21   | 8      | N        | N    |                   | 提现量                                                       |
| 9    | fee              | decimal  | 21   | 8      | N        | N    |                   | 手续费()                                                     |
| 10   | mum              | decimal  | 21   | 8      | N        | N    |                   | 实际提现                                                     |
| 11   | type             | bit      | 1    | 0      | Y        | N    | 0                 | 0站内1其他2手工提币                                          |
| 12   | chain_fee        | decimal  | 21   | 8      | Y        | N    |                   | 链上手续费花费                                               |
| 13   | block_num        | int      | 10   | 0      | Y        | N    | 0                 | 区块高度                                                     |
| 14   | remark           | varchar  | 255  | 0      | Y        | N    |                   | 后台审核人员提币备注备注                                     |
| 15   | wallet_mark      | varchar  | 255  | 0      | Y        | N    |                   | 钱包提币备注备注                                             |
| 16   | step             | tinyint  | 4    | 0      | Y        | N    |                   | 当前审核级数                                                 |
| 17   | status           | bit      | 1    | 0      | N        | N    |                   | 状态：0-审核中；1-成功；2-拒绝；3-撤销；4-审核通过；5-打币中； |
| 18   | audit_time       | datetime | 19   | 0      | Y        | N    |                   | 审核时间                                                     |
| 19   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间                                                     |
| 20   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                                                     |

## 41. **表forex_coin (创新交易币种表)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明              |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ----------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   |                   |
| 2    | name             | varchar  | 100  | 0      | N        | N    |                   | 币种名称          |
| 3    | title            | varchar  | 100  | 0      | N        | N    |                   | 币种标题          |
| 4    | sort             | tinyint  | 4    | 0      | N        | N    | 0                 | 排序              |
| 5    | status           | bit      | 1    | 0      | N        | N    | 1                 | 状态: 0禁用 1启用 |
| 6    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间          |
| 7    | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间          |

## 42. **表forex_close_position_order (平仓详情)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                 |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                 |
| 2    | user_id          | bigint   | 20   | 0      | Y        | N    |                   | 用户ID               |
| 3    | market_id        | bigint   | 20   | 0      | Y        | N    |                   | 交易对ID             |
| 4    | market_name      | varchar  | 255  | 0      | Y        | N    |                   | 交易对名称           |
| 5    | type             | tinyint  | 4    | 0      | Y        | N    |                   | 持仓方向：1-买；2-卖 |
| 6    | account_id       | bigint   | 20   | 0      | Y        | N    |                   | 资金账户ID           |
| 7    | entrust_order_id | bigint   | 20   | 0      | Y        | N    |                   | 委托订单号           |
| 8    | order_id         | bigint   | 20   | 0      | Y        | N    |                   | 成交订单号           |
| 9    | price            | decimal  | 21   | 8      | Y        | N    |                   | 成交价               |
| 10   | num              | decimal  | 21   | 8      | Y        | N    |                   | 成交数量             |
| 11   | open_id          | bigint   | 20   | 0      | Y        | N    |                   | 关联开仓订单号       |
| 12   | profit           | decimal  | 21   | 8      | Y        | N    |                   | 平仓盈亏             |
| 13   | unlock_margin    | decimal  | 21   | 8      | Y        | N    |                   | 返回还保证金         |
| 14   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间             |
| 15   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间             |

## 43. **表forex_open_position_order (开仓订单信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                      |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                      |
| 2    | user_id          | bigint   | 20   | 0      | Y        | N    |                   | 用户ID                    |
| 3    | market_id        | bigint   | 20   | 0      | Y        | N    |                   | 交易对ID                  |
| 4    | market_name      | varchar  | 255  | 0      | Y        | N    |                   | 交易对名称                |
| 5    | coin_id          | bigint   | 20   | 0      | Y        | N    |                   | 结算币种                  |
| 6    | type             | tinyint  | 4    | 0      | Y        | N    |                   | 持仓方向：1-买；2-卖      |
| 7    | account_id       | bigint   | 20   | 0      | Y        | N    |                   | 资金账户ID                |
| 8    | entrust_order_id | bigint   | 20   | 0      | Y        | N    |                   | 委托订单                  |
| 9    | order_id         | bigint   | 20   | 0      | Y        | N    |                   | 成交订单号                |
| 10   | price            | decimal  | 21   | 8      | Y        | N    |                   | 成交价格                  |
| 11   | num              | decimal  | 21   | 8      | Y        | N    | 0.00000000        | 成交数量                  |
| 12   | lock_margin      | decimal  | 21   | 8      | Y        | N    | 0.00000000        | 扣除保证金                |
| 13   | close_num        | decimal  | 21   | 8      | Y        | N    | 0.00000000        | 平仓量                    |
| 14   | status           | tinyint  | 4    | 0      | Y        | N    |                   | 状态：1：未平仓；2-已平仓 |
| 15   | last_update_time | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 修改时间                  |
| 16   | created          | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                  |

## 44. **表forex_account (创新交易持仓信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                   |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ---------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                   |
| 2    | user_id          | bigint   | 20   | 0      | Y        | N    |                   | 用户ID                 |
| 3    | market_id        | bigint   | 20   | 0      | Y        | N    |                   | 交易对ID               |
| 4    | market_name      | varchar  | 255  | 0      | Y        | N    |                   | 交易对                 |
| 5    | type             | tinyint  | 4    | 0      | Y        | N    |                   | 持仓方向：1-买；2-卖   |
| 6    | amount           | decimal  | 21   | 8      | Y        | N    | 0.00000000        | 持仓量                 |
| 7    | lock_amount      | decimal  | 21   | 8      | Y        | N    | 0.00000000        | 冻结持仓量             |
| 8    | status           | tinyint  | 4    | 0      | Y        | N    |                   | 状态：1-有效；2-锁定； |
| 9    | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 修改时间               |
| 10   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间               |

## 45. **表forex_account_detail (持仓账户流水)**

| 编号 | 名称       | 数据类型 | 长度  | 小数位 | 允许空值 | 主键 | 默认值            | 说明                     |
| ---- | ---------- | -------- | ----- | ------ | -------- | ---- | ----------------- | ------------------------ |
| 1    | id         | bigint   | 20    | 0      | N        | Y    |                   | 主键                     |
| 2    | account_id | bigint   | 20    | 0      | Y        | N    |                   | 持仓账户ID               |
| 3    | type       | tinyint  | 4     | 0      | Y        | N    |                   | 收支类型：开仓；2-平仓； |
| 4    | amount     | decimal  | 21    | 8      | Y        | N    |                   | 持仓量                   |
| 5    | remark     | text     | 65535 | 0      | Y        | N    |                   | 备注                     |
| 6    | created    | datetime | 19    | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                 |

## 46. **表admin_bank (人民币充值卡号管理)**

| 编号 | 名称      | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 | 说明                   |
| ---- | --------- | -------- | ---- | ------ | -------- | ---- | ------ | ---------------------- |
| 1    | id        | bigint   | 20   | 0      | N        | Y    |        | 主键                   |
| 2    | name      | varchar  | 64   | 0      | Y        | N    |        | 开户人姓名             |
| 3    | bank_name | varchar  | 256  | 0      | Y        | N    |        | 开户行名称             |
| 4    | bank_card | varchar  | 32   | 0      | Y        | N    |        | 卡号                   |
| 5    | coin_id   | bigint   | 20   | 0      | Y        | N    |        | 充值转换换币种ID       |
| 6    | coin_name | varchar  | 16   | 0      | Y        | N    |        | 币种名称               |
| 7    | status    | tinyint  | 4    | 0      | Y        | N    |        | 状态：0-无效；1-有效； |

47. **表** **use****r_****account****_freeze(****冻结用户金额****)**

| 编号 | 名称    | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 | 说明 |
| ---- | ------- | -------- | ---- | ------ | -------- | ---- | ------ | ---- |
| 1    | user_id | bigint   | 20   | 0      | N        | Y    |        |      |
| 2    | freeze  | decimal  | 41   | 20     | Y        | N    |        |      |

## 48. **表****use****r_coin_freeze(****冻结用户币种金额****)**

| 编号 | 名称    | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 | 说明 |
| ---- | ------- | -------- | ---- | ------ | -------- | ---- | ------ | ---- |
| 1    | user_id | bigint   | 20   | 0      | N        | Y    |        |      |
| 2    | coin_id | bigint   | 20   | 0      | Y        | N    |        |      |
| 3    | freeze  | decimal  | 11   | 0      | Y        | N    |        |      |

# 四、交易引擎（exchange-engine）

## 49. **表entrust_order (委托订单信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                   |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------------------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 订单ID                                 |
| 2    | user_id          | bigint   | 20   | 0      | N        | N    |                   | 用户ID                                 |
| 3    | market_id        | bigint   | 20   | 0      | N        | N    |                   | 市场ID                                 |
| 4    | market_type      | tinyint  | 4    | 0      | Y        | N    |                   | 市场类型（1：币币交易，2：创新交易）   |
| 5    | symbol           | varchar  | 16   | 0      | Y        | N    |                   | 交易对标识符                           |
| 6    | market_name      | varchar  | 50   | 0      | N        | N    |                   | 交易市场                               |
| 7    | price            | decimal  | 41   | 20     | N        | N    |                   | 委托价格                               |
| 8    | merge_low_price  | decimal  | 41   | 20     | Y        | N    |                   | 合并深度价格1                          |
| 9    | merge_high_price | decimal  | 41   | 20     | Y        | N    |                   | 合并深度价格2                          |
| 10   | volume           | decimal  | 41   | 20     | N        | N    |                   | 委托数量                               |
| 11   | amount           | decimal  | 41   | 20     | N        | N    |                   | 委托总额                               |
| 12   | fee_rate         | decimal  | 41   | 20     | N        | N    |                   | 手续费比率                             |
| 13   | fee              | decimal  | 41   | 20     | N        | N    |                   | 交易手续费                             |
| 14   | contract_unit    | int      | 10   | 0      | Y        | N    |                   | 合约单位                               |
| 15   | deal             | decimal  | 41   | 20     | N        | N    |                   | 成交数量                               |
| 16   | freeze           | decimal  | 41   | 20     | N        | N    |                   | 冻结量                                 |
| 17   | margin_rate      | decimal  | 41   | 20     | Y        | N    |                   | 保证金比例                             |
| 18   | base_coin_rate   | decimal  | 41   | 20     | Y        | N    |                   | 基础货币对（USDT/BTC）兑换率           |
| 19   | price_coin_rate  | decimal  | 41   | 20     | Y        | N    |                   | 报价货币对（USDT/BTC)兑换率            |
| 20   | lock_margin      | decimal  | 41   | 20     | Y        | N    |                   | 占用保证金                             |
| 21   | price_type       | tinyint  | 4    | 0      | N        | N    | 2                 | 价格类型：1-市价；2-限价               |
| 22   | trade_type       | tinyint  | 4    | 0      | Y        | N    |                   | 交易类型：1-开仓；2-平仓               |
| 23   | type             | tinyint  | 4    | 0      | N        | N    |                   | 买卖类型：1-买入；2-卖出 2 卖出        |
| 24   | open_order_id    | bigint   | 20   | 0      | Y        | N    |                   | 平仓委托关联单号                       |
| 25   | status           | tinyint  | 4    | 0      | N        | N    |                   | status 0未成交 1已成交 2已取消 4异常单 |
| 26   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间                               |
| 27   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                               |

## 50. **表trade_area (交易区)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                           |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ---------------------------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 主键                                           |
| 2    | name             | varchar  | 32   | 0      | Y        | N    |                   | 交易区名称                                     |
| 3    | code             | varchar  | 32   | 0      | Y        | N    |                   | 交易区代码                                     |
| 4    | type             | tinyint  | 4    | 0      | Y        | N    |                   | 类型：1-数字货币交易；2-创新交易使用；         |
| 5    | coin_id          | bigint   | 20   | 0      | Y        | N    |                   | 结算币种（仅创新交易需要使用）                 |
| 6    | coin_name        | varchar  | 16   | 0      | Y        | N    |                   | 结算币种名称（仅创新交易需要使用）             |
| 7    | sort             | tinyint  | 4    | 0      | Y        | N    |                   | 排序                                           |
| 8    | status           | tinyint  | 4    | 0      | Y        | N    |                   | 状态                                           |
| 9    | base_coin        | bigint   | 20   | 0      | Y        | N    |                   | 是否作为基础结算货币,0否1是 供统计个人账户使用 |
| 10   | last_update_time | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 修改时间                                       |
| 11   | created          | datetime | 19   | 0      | Y        | N    | CURRENT_TIMESTAMP | 创建时间                                       |

## 51. **表turnover_order (成交订单)**

| 编号 | 名称               | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                 |
| ---- | ------------------ | -------- | ---- | ------ | -------- | ---- | ----------------- | ------------------------------------ |
| 1    | id                 | bigint   | 20   | 0      | N        | Y    |                   |                                      |
| 2    | market_id          | bigint   | 20   | 0      | N        | N    |                   | 市场ID                               |
| 3    | market_type        | int      | 10   | 0      | Y        | N    |                   | 交易对类型：1-币币交易；2-创新交易； |
| 4    | trade_type         | bit      | 1    | 0      | N        | N    |                   | 交易类型:1 买 2卖                    |
| 5    | symbol             | varchar  | 16   | 0      | Y        | N    |                   | 交易对标识符                         |
| 6    | market_name        | varchar  | 16   | 0      | Y        | N    |                   | 交易对名称                           |
| 7    | sell_user_id       | bigint   | 20   | 0      | N        | N    |                   | 卖方用户ID                           |
| 8    | sell_coin_id       | bigint   | 20   | 0      | N        | N    |                   | 卖方币种ID                           |
| 9    | sell_order_id      | bigint   | 20   | 0      | N        | N    |                   | 卖方委托订单ID                       |
| 10   | sell_price         | decimal  | 41   | 20     | N        | N    |                   | 卖方委托价格                         |
| 11   | sell_fee_rate      | decimal  | 41   | 20     | N        | N    |                   | 卖方手续费率                         |
| 12   | sell_volume        | decimal  | 41   | 20     | N        | N    |                   | 卖方委托数量                         |
| 13   | buy_user_id        | bigint   | 20   | 0      | N        | N    |                   | 买方用户ID                           |
| 14   | buy_coin_id        | bigint   | 20   | 0      | N        | N    |                   | 买方币种ID                           |
| 15   | buy_order_id       | bigint   | 20   | 0      | N        | N    |                   | 买方委托订单ID                       |
| 16   | buy_volume         | decimal  | 41   | 20     | N        | N    |                   | 买方委托数量                         |
| 17   | buy_price          | decimal  | 41   | 20     | N        | N    |                   | 买方委托价格                         |
| 18   | buy_fee_rate       | decimal  | 41   | 20     | N        | N    |                   | 买方手续费率                         |
| 19   | order_id           | bigint   | 20   | 0      | N        | N    |                   | 委托订单ID                           |
| 20   | amount             | decimal  | 41   | 20     | N        | N    |                   | 成交总额                             |
| 21   | price              | decimal  | 41   | 20     | N        | N    |                   | 成交价格                             |
| 22   | volume             | decimal  | 41   | 20     | N        | N    |                   | 成交数量                             |
| 23   | deal_sell_fee      | decimal  | 41   | 20     | N        | N    |                   | 成交卖出手续费                       |
| 24   | deal_sell_fee_rate | decimal  | 41   | 20     | N        | N    |                   | 成交卖出手续费率                     |
| 25   | deal_buy_fee       | decimal  | 41   | 20     | N        | N    |                   | 成交买入手续费                       |
| 26   | deal_buy_fee_rate  | decimal  | 41   | 20     | N        | N    |                   | 成交买入成交率费                     |
| 27   | status             | bit      | 1    | 0      | N        | N    |                   | 状态0待成交，1已成交，2撤销，3.异常  |
| 28   | last_update_time   | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间                             |
| 29   | created            | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                             |

## 52. **表turnover_record (成交数据)**

| 编号 | 名称      | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明     |
| ---- | --------- | -------- | ---- | ------ | -------- | ---- | ----------------- | -------- |
| 1    | id        | bigint   | 20   | 0      | N        | Y    |                   |          |
| 2    | market_id | bigint   | 20   | 0      | N        | N    |                   | 市场ID   |
| 3    | price     | decimal  | 21   | 8      | N        | N    |                   | 成交价   |
| 4    | volume    | decimal  | 21   | 8      | N        | N    |                   | 成交数量 |
| 5    | created   | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间 |

 

## 53. **表market (交易对配置信息)**

| 编号 | 名称             | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值            | 说明                                                  |
| ---- | ---------------- | -------- | ---- | ------ | -------- | ---- | ----------------- | ----------------------------------------------------- |
| 1    | id               | bigint   | 20   | 0      | N        | Y    |                   | 市场ID                                                |
| 2    | type             | tinyint  | 4    | 0      | N        | N    |                   | 类型：1-数字货币；2：创新交易                         |
| 3    | trade_area_id    | bigint   | 20   | 0      | N        | N    |                   | 交易区域ID                                            |
| 4    | sell_coin_id     | bigint   | 20   | 0      | Y        | N    |                   | 卖方市场ID                                            |
| 5    | buy_coin_id      | bigint   | 20   | 0      | N        | N    |                   | 买方币种ID                                            |
| 6    | symbol           | varchar  | 16   | 0      | Y        | N    |                   | 交易对标识                                            |
| 7    | name             | varchar  | 100  | 0      | N        | N    |                   | 名称                                                  |
| 8    | title            | varchar  | 100  | 0      | N        | N    |                   | 标题                                                  |
| 9    | img              | varchar  | 255  | 0      | Y        | N    |                   | 市场logo                                              |
| 10   | open_price       | decimal  | 21   | 8      | N        | N    |                   | 开盘价格                                              |
| 11   | fee_buy          | decimal  | 21   | 8      | N        | N    |                   | 买入手续费率                                          |
| 12   | fee_sell         | decimal  | 21   | 8      | N        | N    |                   | 卖出手续费率                                          |
| 13   | margin_rate      | decimal  | 21   | 8      | Y        | N    |                   | 保证金占用比例                                        |
| 14   | num_min          | decimal  | 21   | 8      | N        | N    |                   | 单笔最小委托量                                        |
| 15   | num_max          | decimal  | 21   | 8      | N        | N    |                   | 单笔最大委托量                                        |
| 16   | trade_min        | decimal  | 21   | 8      | N        | N    |                   | 单笔最小成交额                                        |
| 17   | trade_max        | decimal  | 21   | 8      | N        | N    |                   | 单笔最大成交额                                        |
| 18   | price_scale      | tinyint  | 4    | 0      | Y        | N    | 0                 | 价格小数位                                            |
| 19   | num_scale        | tinyint  | 4    | 0      | N        | N    | 0                 | 数量小数位                                            |
| 20   | contract_unit    | int      | 10   | 0      | Y        | N    |                   | 合约单位                                              |
| 21   | point_value      | decimal  | 21   | 8      | Y        | N    |                   | 点                                                    |
| 22   | merge_depth      | varchar  | 128  | 0      | Y        | N    |                   | 合并深度（格式：4,3,2）4:表示为0.0001；3：表示为0.001 |
| 23   | trade_time       | varchar  | 100  | 0      | Y        | N    |                   | 交易时间                                              |
| 24   | trade_week       | varchar  | 100  | 0      | Y        | N    |                   | 交易周期                                              |
| 25   | sort             | int      | 10   | 0      | N        | N    | 0                 | 排序列                                                |
| 26   | status           | bit      | 1    | 0      | N        | N    |                   | 状态 0禁用 1启用                                      |
| 27   | fxcm_symbol      | varchar  | 255  | 0      | Y        | N    |                   | 福汇API交易对                                         |
| 28   | yahoo_symbol     | varchar  | 255  | 0      | Y        | N    |                   | 对应雅虎金融API交易对                                 |
| 29   | aliyun_symbol    | varchar  | 255  | 0      | Y        | N    |                   | 对应阿里云API交易对                                   |
| 30   | last_update_time | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 更新时间                                              |
| 31   | created          | datetime | 19   | 0      | N        | N    | CURRENT_TIMESTAMP | 创建时间                                              |

 

 

## 54. **表user_favorite_market (用户收藏交易市场)**

| 编号 | 名称      | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 | 说明                                 |
| ---- | --------- | -------- | ---- | ------ | -------- | ---- | ------ | ------------------------------------ |
| 1    | id        | bigint   | 20   | 0      | N        | Y    |        | 主键                                 |
| 2    | type      | int      | 10   | 0      | Y        | N    |        | 交易对类型：1-币币交易；2-创新交易； |
| 3    | user_id   | bigint   | 20   | 0      | Y        | N    |        | 用户ID                               |
| 4    | market_id | bigint   | 20   | 0      | Y        | N    |        | 交易对ID                             |

# **五、数据库的导入**

## 创建coin-exchange数据库

## 运行sql下的coin-exchange_with_data.sql

  